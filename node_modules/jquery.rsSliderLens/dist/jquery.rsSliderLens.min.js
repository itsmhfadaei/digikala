/*! jquery.rsSliderLens - UI range slider - v1.0.5 - 2021-01-10
* https://github.com/ruisoftware/jquery-rsSliderLens
* Copyright (c) 2021 Jose Rui Santos; Licensed MIT */
!function(a,b){"use strict";var c=function(c,d){var e={$wrapper:null,$svg:null,tabindexAttr:null,autofocusable:!1,initSvgOutsideHandle:function(){var a={left:(j.isFixedHandle?j.isHoriz?100*h.fixedHandleRelPos:50:0)+"%",top:(j.isFixedHandle?j.isHoriz?50:100*h.fixedHandleRelPos:0)+"%"};j.isFixedHandle?c.css(j.isHoriz?"height":"width",(j.isHoriz?g.height:g.width)+"px"):a.height=a.width="100%",this.$svg=k.createSvg(this.width,this.height).css(a),d.ruler.visible&&k.renderSvg(this.$svg,this.width,this.height),c.triggerHandler("customRuler.rsSliderLens",[this.$svg,this.width,this.height,1,!1,k.createSvgDom]),this.$svg.prependTo(this.$wrapper),c.css("visibility","hidden")},initSize:function(a){var e=a||c;a===b&&("auto"!==d.width&&"auto"!==d.height||"inline"!==e.css("display")||e.css("display","inline-block"),this.width=("auto"===d.width?e.width():d.width)||150,this.height=("auto"===d.height?e.height():d.height)||50),(a!==b||!j.isFixedHandle||j.hasRuler)&&((0===e.width()||"auto"!==d.width||a!==b&&j.isHoriz)&&e.width(this.width),(0===e.height()||"auto"!==d.height||a!==b&&!j.isHoriz)&&e.height(this.height)),a===b?j.isHoriz="auto"===d.orientation?this.width>=this.height:"vert"!==d.orientation:j.isFixedHandle&&!j.hasRuler&&(j.isHoriz?e.height(this.height*d.handle.zoom):e.width(this.width*d.handle.zoom))},init:function(){this.tabindexAttr=c.attr("tabindex"),this.autofocusable=c.attr("autofocus"),this.style=c.attr("style"),j.isFixedHandle=d.fixedHandle!==!1,j.isFixedHandle?h.fixedHandleRelPos=d.fixedHandle===!0?.5:d.flipped?1-d.fixedHandle:d.fixedHandle:h.fixedHandleRelPos=0,this.initSize(),j.hasRuler||(c.css(j.isHoriz?"width":"height","auto"),this.initSize(),j.isFixedHandle&&(j.isHoriz?c.css("line-height",this.height*d.handle.zoom+"px"):c.css("width",this.width*d.handle.zoom+"px")));var a=c.css("position"),b=c.position(),e={display:"inline-block",position:"relative","white-space":"nowrap"};j.isHoriz||(e.left=100*d.contentOffset+"%"),this.$wrapper=c.css(e).wrap("<div>").parent().css({overflow:j.isFixedHandle?"hidden":"visible",display:"inline-block"}).addClass(d.style.classSlider).addClass(j.isFixedHandle?d.style.classFixed:null).addClass(j.isHoriz?d.style.classHoriz:d.style.classVert).addClass(d.enabled?null:d.style.classDisabled),j.isFixedHandle?c.css(j.isHoriz?"left":"top",100*h.fixedHandleRelPos+"%"):j.isHoriz?c.css("transform","translateY("+(100*d.contentOffset-50)+"%)"):c.css("transform","translateX(-50%)"),this.initSize(this.$wrapper),j.hasRuler&&j.isFixedHandle&&(this[j.isHoriz?"width":"height"]*=d.ruler.size),"static"===a?this.$wrapper.css("position","relative"):this.$wrapper.css({position:a,left:b.left+"px",top:b.top+"px"})}},f={$rangeWrapper:null,$range:null,getPropMin:function(){return d.flipped?j.isHoriz?"right":"bottom":j.isHoriz?"left":"top"},getPropMax:function(){return d.flipped?j.isHoriz?"left":"top":j.isHoriz?"right":"bottom"},init:function(){var b,c={display:"inline-block",position:"absolute"},f={overflow:"hidden"},g={};switch(j.isHoriz?(f.top=100*d.range.pos+"%",f.height=j.isFixedHandle?e.height*d.range.size+"px":100*d.range.size+"%",f.transform="translateY(-50%)",g.height="100%"):(f.left=100*d.range.pos+"%",f.width=j.isFixedHandle?e.width*d.range.size+"px":100*d.range.size+"%",f.transform="translateX(-50%)",g.width="100%"),d.range.type){case"min":g[this.getPropMin()]="0%",b=(j.getCurrValue(j.currValue[0])-d.min)/(d.max-d.min)*100,g[this.getPropMax()]=(d.flipped?b:100-b)+"%";break;case"max":g[this.getPropMax()]="0%",b=(j.getCurrValue(j.currValue[0])-d.min)/(d.max-d.min)*100,g[this.getPropMin()]=(d.flipped?100-b:b)+"%";break;default:j.isRangeFromToDefined&&(g[this.getPropMin()]=(d.range.type[0]-d.min)/(d.max-d.min)*100+"%",g[this.getPropMax()]=(d.max-d.range.type[1])/(d.max-d.min)*100+"%")}j.isFixedHandle?(f[j.isHoriz?"width":"height"]=Math.round(e[j.isHoriz?"width":"height"]*(1-d.paddingStart-d.paddingEnd))+"px",f[j.isHoriz?"left":"top"]=100*h.fixedHandleRelPos+"%"):(f[this.getPropMin()]=100*d.paddingStart+"%",f[this.getPropMax()]=100*d.paddingEnd+"%"),this.$rangeWrapper=a("<div>").css(c).css(f).addClass(d.style.classRange),j.hasRuler||this.$rangeWrapper.hide(),d.range.type&&"hidden"!==d.range.type&&(this.$range=a("<div>").css(c).css(g),this.$rangeWrapper.append(this.$range)),j.canDragRange&&this.$rangeWrapper.addClass(d.style.classRangeDraggable)},appendToDOM:function(a){a?f.$rangeWrapper.insertBefore(h.$elem1st):f.$rangeWrapper.appendTo(e.$wrapper),g.$elemRange1st&&g.$elemRange1st.appendTo(h.$elem1st),g.$elemRange2nd&&g.$elemRange2nd.appendTo(h.$elem2nd)},doUpdate:function(a,b,c,e,g){if(c)switch(d.range.type){case"min":e&&c.css(f.getPropMax(),(d.flipped?a:100-a)+"%");break;case"max":g&&c.css(f.getPropMin(),(d.flipped?100-a:a)+"%");break;case!0:case"between":b?c.css(d.flipped?f.getPropMax():f.getPropMin(),a+"%"):c.css(d.flipped?f.getPropMin():f.getPropMax(),100-a+"%")}},update:function(a,b){f.doUpdate(a,b,f.$range,!j.doubleHandles||!d.flipped&&b||d.flipped&&!b,!j.doubleHandles||d.flipped&&b||!d.flipped&&!b)}},g={$elem1st:null,$elem2nd:null,$elemRange1st:null,$elemRange2nd:null,width:0,height:0,getRelativePosition:function(){var a=j.hasRuler?.5:d.contentOffset,b=j.isFixedHandle?1:"zoom"===d.handle.otherSize?d.handle.zoom:d.handle.otherSize,c=100*((a-(j.isFixedHandle?.5:d.handle.pos))/b+.5)+"%";return j.isHoriz?{left:j.doubleHandles?"100%":"50%",top:c}:{left:c,top:j.doubleHandles?"100%":"50%"}},initClone:function(){this.$elem1st=c.clone().css("transform-origin","0 0").css(this.getRelativePosition()).removeAttr("tabindex autofocus id"),j.isHoriz?j.isFixedHandle&&(this.$elem1st.css("top",""),j.hasRuler||this.$elem1st.css("line-height",e.height+"px")):j.isFixedHandle||j.hasRuler||this.$elem1st.css("width",e.width*d.handle.zoom+"px"),j.doubleHandles&&(this.$elem2nd=this.$elem1st.clone().css(j.isHoriz?"left":"top",""))},initSvgHandle:function(){return e.initSvgOutsideHandle(),this.$elem1st=k.createSvg(this.width,this.height).css(this.getRelativePosition()),d.ruler.visible&&k.renderSvg(this.$elem1st,this.width,this.height,!k.areTheSame(d.handle.zoom,1)),c.triggerHandler("customRuler.rsSliderLens",[this.$elem1st,this.width,this.height,d.handle.zoom,!0,k.createSvgDom]),j.doubleHandles&&(this.$elem2nd=this.$elem1st.clone().css(j.isHoriz?"left":"top","")),!0},init:function(){this.width=e.width*d.handle.zoom,this.height=e.height*d.handle.zoom,j.hasRuler?this.initSvgHandle():this.initClone()},resizeUpdate:function(){j.updateTicksStep();var a=e.$wrapper.width(),b=e.$wrapper.height();j.isFixedHandle||g.$elem1st.add(g.$elem2nd).css({width:a*d.handle.zoom,height:b*d.handle.zoom}),this.initRanges(a,b),j.isRangeFromToDefined&&(j.doubleHandles?(j.setValue(j.currValue[0],d.flipped?h.$elem2nd:h.$elem1st,!0),j.setValue(j.currValue[1],d.flipped?h.$elem1st:h.$elem2nd,!0)):j.setValue(j.currValue[0],h.$elem1st,!0))},createMagnifRange:function(a,b,c){var e={};return e[j.isHoriz?"width":"height"]=Math.round((j.isHoriz?b:c)*(1-d.paddingStart-d.paddingEnd)*d.handle.zoom)+"px",e[j.isHoriz?"left":"top"]=j.doubleHandles?a?"100%":"0%":"50%",e[j.isHoriz?"height":"width"]=j.isFixedHandle?d.range.size*g[j.isHoriz?"height":"width"]+"px":100*d.range.size+"%",a&&g.$elemRange1st?g.$elemRange1st.css(e):!a&&g.$elemRange2nd?g.$elemRange2nd.css(e):f.$rangeWrapper.clone().css(e)},initRanges:function(a,c){if(a===b&&(a=e.width),c===b&&(c=e.height),this.$elemRange1st=g.createMagnifRange(!0,a,c),j.doubleHandles)switch(this.$elemRange2nd=g.createMagnifRange(!1,a,c),d.range.type){case"min":(d.flipped?this.$elemRange1st:this.$elemRange2nd).empty();break;case"max":(d.flipped?this.$elemRange2nd:this.$elemRange1st).empty();break;case!0:case"between":this.$elemRange1st.add(this.$elemRange2nd).empty()}},updateRanges:function(a,b){f.doUpdate(a,b,b?g.$elemRange1st.children():g.$elemRange2nd.children(),!0,!0)}},h={$elem1st:null,$elem2nd:null,stopPosition:[0,0],fixedHandleRelPos:0,key:{left:37,up:38,right:39,down:40,pgUp:33,pgDown:34,home:36,end:35,esc:27},init:function(){var a={display:"inline-block",overflow:"hidden",outline:"none",position:"absolute"};j.isHoriz?(a.width=100*d.handle.size+"%",j.isFixedHandle?(a.left=100*this.fixedHandleRelPos+"%",a.top=0,a.bottom=0,a.transform="translateX(-50%)"):(a.top=100*d.handle.pos+"%",a.height=100*("zoom"===d.handle.otherSize?d.handle.zoom:d.handle.otherSize)+"%",a.transform="translate(-"+(j.doubleHandles?100:50)+"%, -50%)")):(a.height=100*d.handle.size+"%",j.isFixedHandle?(a.top=100*this.fixedHandleRelPos+"%",a.left=0,a.right=0,a.transform="translateY(-50%)"):(a.left=100*d.handle.pos+"%",a.width=100*("zoom"===d.handle.otherSize?d.handle.zoom:d.handle.otherSize)+"%",a.transform="translate(-50%, -"+(j.doubleHandles?100:50)+"%)")),this.$elem1st=g.$elem1st.wrap("<div>").parent().addClass(j.doubleHandles?d.style.classHandle1:d.style.classHandle).css(a),this.bindTabEvents(!0),j.doubleHandles&&(this.$elem2nd=g.$elem2nd.wrap("<div>").parent().addClass(d.style.classHandle2).css(a).css("transform","translate"+(j.isHoriz?"Y(-50%)":"X(-50%)")),this.bindTabEvents(!1))},bindTabEvents:function(a){if((e.tabindexAttr||j.isInputTypeRange)&&d.enabled){var f=function(){h.$elem2nd.attr("tabindex",e.tabindexAttr||0).bind("focusin.rsSliderLens",l.gotFocus2nd).bind("focusout.rsSliderLens",l.loseFocus)};a||a===b?(c.removeAttr("tabindex"),this.$elem1st.attr("tabindex",e.tabindexAttr||0).bind("focusin.rsSliderLens",l.gotFocus1st).bind("focusout.rsSliderLens",l.loseFocus),e.autofocusable&&(c.removeAttr("autofocus"),this.$elem1st.attr("autofocus","autofocus")),a===b&&this.$elem2nd&&f()):f()}},unbindTabEvents:function(){!e.tabindexAttr&&!j.isInputTypeRange||d.enabled||(this.$elem1st.add(this.$elem2nd).removeAttr("tabindex autofocus").unbind("focusout.rsSliderLens",l.loseFocus),this.$elem1st.unbind("focusin.rsSliderLens",l.gotFocus1st),this.$elem2nd&&this.$elem2nd.unbind("focusin.rsSliderLens",l.gotFocus2nd))},navigate:function(a,c,e,f,g,i){if(!l.$animObj){var k,m=j.currValue[j.doubleHandles&&l.$handle!==h.$elem1st?1:0];k=j.isStepDefined?Math.round((m+c-d.min)/d.step)*d.step+d.min:m+a/j.ticksStep,g!==b&&(k<g[0]&&(k=g[0]),k>g[1]&&(k=g[1])),k<d.min&&(k=d.min),k>d.max&&(k=d.max),l.gotoAnim(m,k,e,f,i)}},keydown:function(b){var c=function(){switch(b.which){case h.key.left:return a.inArray("left",d.keyboard.allowed)>-1;case h.key.down:return a.inArray("down",d.keyboard.allowed)>-1;case h.key.right:return a.inArray("right",d.keyboard.allowed)>-1;case h.key.up:return a.inArray("up",d.keyboard.allowed)>-1;case h.key.pgUp:return a.inArray("pgup",d.keyboard.allowed)>-1;case h.key.pgDown:return a.inArray("pgdown",d.keyboard.allowed)>-1;case h.key.home:return a.inArray("home",d.keyboard.allowed)>-1;case h.key.end:return a.inArray("end",d.keyboard.allowed)>-1;case h.key.esc:return a.inArray("esc",d.keyboard.allowed)>-1}return!1},e=[j.isRangeFromToDefined?j.getCurrValue(d.range.type[d.flipped?1:0]):d.min,j.isRangeFromToDefined?j.getCurrValue(d.range.type[d.flipped?0:1]):d.max];if(e[0]=j.doubleHandles?l.$handle===h.$elem1st?e[0]:j.currValue[0]:e[0],e[1]=j.doubleHandles&&l.$handle===h.$elem1st?j.currValue[1]:e[1],c()){b.preventDefault();var f=j.currValue[j.doubleHandles&&l.$handle!==h.$elem1st?1:0];switch(b.which){case h.key.left:case h.key.down:l.beingDraggedByKeyboard=!0,h.navigate(j.isHoriz?-1:1,j.isHoriz?-d.step:d.step,j.isStepDefined?d.handle.animation*d.step/(d.max-d.min):0,d.keyboard.easing,e);break;case h.key.right:case h.key.up:l.beingDraggedByKeyboard=!0,h.navigate(j.isHoriz?1:-1,j.isHoriz?d.step:-d.step,j.isStepDefined?d.handle.animation*d.step/(d.max-d.min):0,d.keyboard.easing,e);break;case h.key.pgUp:case h.key.pgDown:b.which===h.key.pgUp?h.navigate((j.fromPixel-j.toPixel)/d.keyboard.numPages,(d.min-d.max)/d.keyboard.numPages,d.handle.animation/d.keyboard.numPages,d.keyboard.easing,e):h.navigate((j.toPixel-j.fromPixel)/d.keyboard.numPages,(d.max-d.min)/d.keyboard.numPages,d.handle.animation/d.keyboard.numPages,d.keyboard.easing,e);break;case h.key.home:l.gotoAnim(f,e[0],d.handle.animation,d.keyboard.easing);break;case h.key.end:l.gotoAnim(f,e[1],d.handle.animation,d.keyboard.easing);break;case h.key.esc:j.doubleHandles?(l.gotoAnim(j.currValue[0],j.uncommitedValue[0],d.handle.animation,d.keyboard.easing,h.$elem1st),l.gotoAnim(j.currValue[1],j.uncommitedValue[1],d.handle.animation,d.keyboard.easing,h.$elem2nd)):l.gotoAnim(j.currValue[0],j.uncommitedValue[0],d.handle.animation,d.keyboard.easing),j.currValue[0]=j.uncommitedValue[0],j.currValue[1]=j.uncommitedValue[1]}}},keyup:function(a){switch(a.which){case h.key.left:case h.key.down:case h.key.right:case h.key.up:l.beingDraggedByKeyboard||i.processFinalChange(l.$handle),l.beingDraggedByKeyboard=!1}},onMouseWheel:function(a){if(d.enabled&&!k.isAlmostZero(d.step)){var c={x:0,y:0};a.wheelDelta!==b||a.originalEvent===b||a.originalEvent.wheelDelta===b&&a.originalEvent.detail===b||(a=a.originalEvent),a.wheelDelta&&(c.y=a.wheelDelta/120),a.detail&&(c.y=-a.detail/3);var e=a||window.event;e.axis!==b&&e.axis===e.HORIZONTAL_AXIS&&(c.x=-c.y,c.y=0),e.wheelDeltaY!==b&&(c.y=e.wheelDeltaY/120),e.wheelDeltaX!==b&&(c.x=-e.wheelDeltaX/120),a.preventDefault(),c.y*=d.handle.mousewheel;var f=d.step*d.handle.mousewheel,g=function(){h.navigate(-c.y,c.y<0?f:-f,d.handle.animation,d.handle.easing,b,l.$handle)};Math.abs(c.y)>.5&&(l.$handle=h.$elem1st,g(),j.doubleHandles&&(l.$handle=h.$elem2nd,g()))}}},i={onGetter:function(a,b){switch(b){case"value":return j.doubleHandles?[j.getCurrValue(j.currValue[0]),j.getCurrValue(j.currValue[1])]:j.getCurrValue(j.currValue[0]);case"range":return d.range.type;case"enabled":return d.enabled}return null},onSetter:function(b,c,k){var o=function(a){var b=a[0];a[0]=a[1],a[1]=b},p=function(a){var b=[j.isRangeFromToDefined?j.getCurrValue(d.range.type[d.flipped?1:0]):d.min,j.isRangeFromToDefined?j.getCurrValue(d.range.type[d.flipped?0:1]):d.max];null!==a[1]&&(a[1]=j.getCurrValue(a[1]),a[1]<b[0]&&(a[1]=b[0]),a[1]>b[1]&&(a[1]=b[1])),null!==a[0]?(a[0]=j.getCurrValue(a[0]),a[0]<b[0]&&(a[0]=b[0]),a[0]>b[1]&&(a[0]=b[1]),null!==a[1]?a[0]>a[1]&&o(a):a[0]>j.currValue[1]&&(a[1]=a[0])):null!==a[1]&&a[1]<j.currValue[0]&&(a[0]=a[1])};switch(c){case"enabled":k===!1?d.enabled&&(d.enabled=!1,e.$wrapper.addClass(d.style.classDisabled),h.unbindTabEvents()):k===!0&&(d.enabled||(d.enabled=!0,e.$wrapper.removeClass(d.style.classDisabled),h.bindTabEvents()));break;case"value":var q=k&&"object"==typeof k&&2===k.length;j.doubleHandles?q&&(p(k),null!==k[0]&&l.gotoAnim(j.currValue[0],k[0],d.handle.animation,d.keyboard.easing,h.$elem1st),null!==k[1]&&l.gotoAnim(j.currValue[1],k[1],d.handle.animation,d.keyboard.easing,h.$elem2nd)):q||l.gotoAnim(j.currValue[0],j.getCurrValue(k),d.handle.animation,d.keyboard.easing);break;case"range":k&&(j.doubleHandles||k.type!==!0&&"between"!==k.type)&&(g.$elemRange1st&&(g.$elemRange1st.remove(),g.$elemRange1st=null),g.$elemRange2nd&&(g.$elemRange2nd.remove(),g.$elemRange2nd=null),f.$rangeWrapper.remove(),d.range=a.extend({},d.range,k),j.initRangeVars(),f.init(),g.initRanges(),f.appendToDOM(!0),Math.abs(d.handle.mousewheel)>.5&&f.$rangeWrapper.bind("DOMMouseScroll.rsSliderLens mousewheel.rsSliderLens",h.onMouseWheel),j.canDragRange&&f.$range.bind("mousedown.rsSliderLens touchstart.rsSliderLens",m.startDrag),n(f.$rangeWrapper),n(g.$elemRange1st),j.doubleHandles&&n(g.$elemRange2nd),j.updateHandles(j.currValue))}return i.onGetter(b,c)},onResizeUpdate:function(){g.resizeUpdate()},onChange:function(a,b,c){d.onChange&&d.onChange(a,b,c)},onCreate:function(a){d.onCreate&&d.onCreate(a)},onDestroy:function(){c.add(e.$wrapper).add(e.$canvas).add(f.$rangeWrapper).add(h.$elem1st).add(h.$elem2nd).unbind("DOMMouseScroll.rsSliderLens mousewheel.rsSliderLens",h.onMouseWheel),c.unbind("getter.rsSliderLens",i.onGetter).unbind("setter.rsSliderLens",i.onSetter).unbind("resizeUpdate.rsSliderLens",i.onResizeUpdate).unbind("change.rsSliderLens",i.onChange).unbind("finalchange.rsSliderLens",i.onFinalChange).unbind("create.rsSliderLens",i.onCreate).unbind("destroy.rsSliderLens",i.onDestroy).unbind("customLabel.rsSliderLens",i.onCustomLabel).unbind("customLabelAttrs.rsSliderLens",i.onCustomLabelAttrs).unbind("customRuler.rsSliderLens",i.onCustomRuler),e.$wrapper.unbind("mousedown.rsSliderLens touchstart.rsSliderLens",l.startDrag).unbind("mouseup.rsSliderLens touchend.rsSliderLens",l.stopDrag),f.$rangeWrapper.unbind("mousedown.rsSliderLens touchstart.rsSliderLens",l.startDrag),f.$range&&f.$range.unbind("mousedown.rsSliderLens touchstart.rsSliderLens",m.startDrag),a(document).unbind("keydown.rsSliderLens",h.keydown).unbind("keyup.rsSliderLens",h.keyup).unbind("mousemove.rsSliderLens touchmove.rsSliderLens",j.isHoriz?l.dragHoriz:l.dragVert).unbind("mouseup.rsSliderLens touchend.rsSliderLens",l.stopDragFromDoc).unbind("mousemove.rsSliderLens touchmove.rsSliderLens",m.drag),h.$elem1st.unbind("focusin.rsSliderLens",l.gotFocus1st).unbind("focusout.rsSliderLens",l.loseFocus).unbind("mousedown.rsSliderLens touchstart.rsSliderLens",l.startDrag).unbind("mousedown.rsSliderLens touchstart.rsSliderLens",l.startDragFromHandle1st),h.$elem2nd&&h.$elem2nd.unbind("focusin.rsSliderLens",l.gotFocus2nd).unbind("focusout.rsSliderLens",l.loseFocus).unbind("mousedown.rsSliderLens touchstart.rsSliderLens",l.startDragFromHandle2nd),e.$canvas&&e.$canvas.remove(),f.$rangeWrapper.remove(),h.$elem1st.remove(),h.$elem2nd&&h.$elem2nd.remove(),e.$svg&&e.$svg.remove(),e.style?c.attr("style",e.style):c.removeAttr("style"),e.tabindexAttr&&c.attr("tabindex",e.tabindexAttr),c.unwrap()},onCustomLabel:function(a,b){return d.ruler.labels.onCustomLabel?d.ruler.labels.onCustomLabel(a,b):b},onCustomLabelAttrs:function(a,b,c,e){return d.ruler.labels.onCustomAttrs?d.ruler.labels.onCustomAttrs(a,b,c,e):void 0},onCustomRuler:function(a,b,c,e,f,g,h){return d.ruler.onCustom?d.ruler.onCustom(a,b,c,e,f,g,h):void 0},finalChangeValueFirst:null,finalChangeValueSecond:null,processFinalChange:function(a){var d=a!==b?a:j.isFixedHandle||l.$handle===h.$elem1st,e=j.getCurrValue(j.currValue[d?0:1]);d?e!==i.finalChangeValueFirst&&(c.triggerHandler("finalchange.rsSliderLens",[e,!0]),i.finalChangeValueFirst=e):e!==i.finalChangeValueSecond&&(c.triggerHandler("finalchange.rsSliderLens",[e,!1]),i.finalChangeValueSecond=e)},onFinalChange:function(a,b,c){d.onFinalChange&&d.onFinalChange(a,b,c)}},j={ns:"http://www.w3.org/2000/svg",currValue:[0,0],ticksStep:0,startPixel:0,isFixedHandle:!1,isInputTypeRange:!1,isHoriz:!0,hasRuler:!1,fromPixel:0,toPixel:0,doubleHandles:!1,isRangeFromToDefined:!1,isStepDefined:!1,isAutoFocusable:!1,canDragRange:!1,isDocumentEventsBound:!1,uncommitedValue:[0,0],getCurrValue:function(a){return d.flipped?d.max-a+d.min:a},checkBounds:function(){var a,b=function(a,b){d.value<a?d.value=a:d.value>b&&(d.value=b)},c=function(a,b,c){a[0]<b&&(a[0]=b),a[1]>c&&(a[1]=c)};d.min>d.max&&(a=d.min,d.min=d.max,d.max=a),j.doubleHandles?d.value[0]>d.value[1]&&(a=d.value[0],d.value[0]=d.value[1],d.value[1]=a):(d.range.type===!0||"between"===d.range.type)&&(d.range.type=!1),j.isRangeFromToDefined?(d.range.type[0]>d.range.type[1]&&(a=d.range.type[0],d.range.type[0]=d.range.type[1],d.range.type[1]=a),c(d.range.type,d.min,d.max),j.doubleHandles?c(d.value,d.range.type[0],d.range.type[1]):b(d.range.type[0],d.range.type[1])):j.doubleHandles?c(d.value,d.min,d.max):b(d.min,d.max),j.doubleHandles?(h.stopPosition[0]=j.currValue[0]=d.value[0],h.stopPosition[1]=j.currValue[1]=d.value[1]):j.currValue[0]=d.value},initRangeVars:function(){this.isRangeFromToDefined="object"==typeof d.range.type&&2===d.range.type.length,this.canDragRange=d.range.draggable&&d.fixedHandle===!1&&(this.doubleHandles&&(d.range.type===!0||"between"===d.range.type)||this.isRangeFromToDefined)},initVars:function(){this.initRangeVars(),d.fixedHandle!==!1&&d.value&&"object"==typeof d.value&&2===d.value.length&&(d.value=d.value[0]),this.doubleHandles=!!d.value&&"object"==typeof d.value&&2===d.value.length;var a=d.max-d.min;d.step=d.step<0?0:d.step>a?a:d.step,this.isStepDefined=d.step>5e-5,this.isInputTypeRange=c.is("input[type=range]"),this.isAutoFocusable=(this.isInputTypeRange||c.attr("tabindex")!==b)&&c.attr("autofocus")!==b,this.hasRuler=d.ruler.visible||!!d.ruler.onCustom,k.isAlmostZero(d.handle.zoom)&&(d.handle.zoom=1),k.isAlmostZero(d.handle.otherSize)&&(d.handle.otherSize=1),d.handle.animation=k.getSpeedMs(d.handle.animation),d.keyboard.numPages<1&&(d.keyboard.numPages=5),j.doubleHandles&&(d.handle.size/=2)},updateTicksStep:function(){var a=j.isFixedHandle?j.hasRuler?e.$svg:c:e.$wrapper,b=j.isHoriz?a.width():a.height();this.ticksStep=b*(1-d.paddingStart-d.paddingEnd)/(d.max-d.min),this.startPixel=b*(d.flipped?d.paddingEnd:d.paddingStart),j.isRangeFromToDefined&&(d.flipped?(this.fromPixel=Math.round((d.max-d.range.type[1])*this.ticksStep),this.toPixel=Math.round((d.max-d.range.type[0])*this.ticksStep)):(this.fromPixel=Math.round((d.range.type[0]-d.min)*this.ticksStep),this.toPixel=Math.round((d.range.type[1]-d.min)*this.ticksStep)))},init:function(){this.checkBounds(),this.updateTicksStep(),j.isRangeFromToDefined||(this.fromPixel=0,this.toPixel=Math.round((d.max-d.min)*this.ticksStep))},doSetHandles:function(a){j.doubleHandles?(j.setValue(a[0],d.flipped?h.$elem2nd:h.$elem1st,j.isStepDefined,b,!0),j.setValue(a[1],d.flipped?h.$elem1st:h.$elem2nd,j.isStepDefined,b,!0),i.processFinalChange(!0),i.processFinalChange(!1)):(j.setValue(a[0],h.$elem1st,j.isStepDefined,b,!0),i.processFinalChange(!0))},initHandles:function(){j.doubleHandles?this.doSetHandles([j.getCurrValue(d.value[0]),j.getCurrValue(d.value[1])]):this.doSetHandles([j.getCurrValue(d.value)])},updateHandles:function(a){this.doSetHandles(a)},checkLimits:function(a){var b=d.min;return j.isRangeFromToDefined&&(b=j.getCurrValue(d.range.type[d.flipped?1:0]),j.isStepDefined&&(b=Math.ceil((b-d.min)/d.step)*d.step+d.min)),b>a?b:(b=d.max,j.isRangeFromToDefined&&(b=j.getCurrValue(d.range.type[d.flipped?0:1]),j.isStepDefined&&(b=Math.trunc((b-d.min)/d.step)*d.step+d.min)),a>b?b:a)},setValue:function(a,b,i,l,m){j.doubleHandles&&(b===h.$elem1st?a>h.stopPosition[1]&&(a=h.stopPosition[1]):a<h.stopPosition[0]&&(a=h.stopPosition[0]));var n=a-d.min,o=n;if(j.isStepDefined&&(n=Math.round(n/d.step)*d.step),j.isRangeFromToDefined){var p=j.getCurrValue(d.range.type[d.flipped?1:0])-d.min;p=Math.ceil(p/d.step)*d.step,p>n?n=l?p:n+d.step:(p=j.getCurrValue(d.range.type[d.flipped?0:1])-d.min,p=Math.trunc(p/d.step)*d.step,n>p&&(n=l?p:n-d.step))}0>n&&(n+=d.step),n>d.max-d.min&&(n-=d.step),j.isStepDefined&&i!==!1&&(o=n),n=j.checkLimits(n+d.min)-d.min,o=j.checkLimits(o+d.min)-d.min;var q=o/(d.min-d.max)*100,r=b===h.$elem1st,s=d.flipped?d.paddingEnd:d.paddingStart,t=d.flipped?d.paddingStart:d.paddingEnd,u=q*(1-s-t)-100*s,v="translate("+(j.isHoriz?u+"%, -50%)":"-50%, "+u+"%)"),w="translate("+(j.isHoriz?q+"%, -50%)":"-50%, "+q+"%)"),x=j.currValue[r?0:1];j.currValue[r?0:1]=n+d.min,j.isFixedHandle?(j.hasRuler?(g.$elem1st.css("transform",v),e.$svg.css("transform",v)):j.isHoriz?(g.$elem1st.css("transform","scale("+d.handle.zoom+") "+v.replace(/-50%\)$/,"0)")),c.css("transform","translate("+u+"%, "+(100*d.contentOffset-50)+"%)")):(g.$elem1st.css("transform","scale("+d.handle.zoom+") "+v),c.css("transform","translate(-50%, "+u+"%)")),f.$rangeWrapper.css("transform",w),g.$elemRange1st.css("transform",w)):(b.css(j.isHoriz?"left":"top",-u+"%"),(r?g.$elem1st:g.$elem2nd).css("transform",j.hasRuler?v:"scale("+d.handle.zoom+") "+v),h.stopPosition[r?0:1]=n+d.min,(r?g.$elemRange1st:g.$elemRange2nd).css("transform",w)),f.update(-q,r),g.updateRanges(-q,r),j.isInputTypeRange&&r&&c.attr("value",j.getCurrValue(j.currValue[0]));var y=j.getCurrValue(j.currValue[r?0:1]);(m||!k.areTheSame(x,y))&&c.triggerHandler("change.rsSliderLens",[y,r])}},k={getEventPageX:function(a){return a.originalEvent&&a.originalEvent.touches&&a.originalEvent.touches.length>0?a.originalEvent.touches[0].pageX:a.pageX},getEventPageY:function(a){return a.originalEvent&&a.originalEvent.touches&&a.originalEvent.touches.length>0?a.originalEvent.touches[0].pageY:a.pageY},pixel2Value:function(a){return(a-j.startPixel)/j.ticksStep+d.min},value2Pixel:function(a){return(a-d.min)*j.ticksStep+j.startPixel},isDefined:function(a){return a!==b&&null!==a},toInt:function(a){var b=a&&"auto"!==a&&""!==a?parseInt(a,10):0;return isNaN(b)?0:b},toFloat:function(a){var b=a&&"auto"!==a&&""!==a?parseFloat(a):0;return isNaN(b)?0:b},roundToDecimalPlaces:function(a,b){var c=Math.pow(10,b);return Math.round(a*c)/c},roundNtoMultipleOfM:function(a,b){return Math.round(a/b)*b},isAlmostZero:function(a,b){return this.areTheSame(a,0,b)},areTheSame:function(a,c,d){return Math.abs(a-c)<(d===b?5e-5:d)},createSvgDom:function(b,c){var d=document.createElementNS(j.ns,b);for(var e in c)d.setAttribute(e,c[e]);return a(d)},createSvg:function(a,b){return k.createSvgDom("svg",{width:a,height:b,viewBox:"0 0 "+a+" "+b,preserveAspectRatio:"none","shape-rendering":"geometricPrecision",xmlns:j.ns,version:"1.1"}).css({position:"absolute","pointer-events":"none"})},renderSvg:function(a,b,e,f){var g=j.isHoriz?b:e,h=j.isHoriz?e:b,i=d.ruler.tickMarks,l=d.paddingStart*g,m=d.paddingEnd*g,n=g-l-m,o=d.flipped?m:l,p=d.flipped?l:m,q=function(){var b=function(a){var b=i[a].step;return i[a].visible?{step:b,tickStep:(b>0&&!k.isAlmostZero(d.max-d.min)?b:1)/(d.max-d.min)*n,pos:i[a].pos*(1-i[a].size)*h,size:i[a].size*h}:null},c=function(a,b,c){r+=j.isHoriz?"M"+Math.round(100*a)/100+" "+Math.round(100*b)/100+" v"+Math.round(100*c)/100+" ":"M"+Math.round(100*b)/100+" "+Math.round(100*a)/100+" h"+Math.round(100*c)/100+" "},e=b("short"),l=b("long"),m=null,q=null,r="";if(e&&l?(m=e.tickStep>l.tickStep?l:e,q=e.tickStep>l.tickStep?e:l):m=e||l,m){for(var s=o,t=o;g-p+5e-5>=s;s+=m.tickStep){var u=!1;q&&(u=k.areTheSame(s,t,5e-5),(u||s+m.tickStep-t>5e-5)&&(c(t,q.pos,q.size),t+=q.tickStep)),u||c(s,m.pos,m.size)}a.append(k.createSvgDom("path",{d:r,"stroke-width":f?d.handle.zoom:1}))}};if(q(),d.ruler.labels.visible&&(("step"===d.ruler.labels.values||d.ruler.labels.values===!0)&&d.step>0||d.ruler.labels.values instanceof Array)){var r,s,t={"dominant-baseline":"central","text-anchor":"middle"},u=d.max-d.min,v=function(a){return a=+a,a>=d.min&&a<=d.max},w=function(a){var b,e,g,i=d.flipped?d.max-a:a-d.min,l=d.ruler.labels.pos*h/(f?d.handle.zoom:1);i=i/u*n/(f?d.handle.zoom:1)+(f?o/d.handle.zoom:o),b=Math.round(100*(j.isHoriz?i:l))/100,e=Math.round(100*(j.isHoriz?l:i))/100,g=c.triggerHandler("customLabelAttrs.rsSliderLens",[a,b,e]),"[object Object]"!==Object.prototype.toString.call(g)&&(g={}),g.x=b,g.y=e,a=c.triggerHandler("customLabel.rsSliderLens",[a]),r.append(k.createSvgDom("text",g).append(a))};if(f&&(t.transform="scale("+d.handle.zoom+")"),r=k.createSvgDom("g",t),d.ruler.labels.values instanceof Array){d.ruler.labels.values.sort(function(a,b){return a-b});for(s in d.ruler.labels.values)d.ruler.labels.values&&v(d.ruler.labels.values[s])&&w(d.ruler.labels.values[s])}else for(s=d.min;s<=d.max;s+=d.step)w(s);r.appendTo(a)}},getSpeedMs:function(c){var d=c;return"string"==typeof c&&(d=a.fx.speeds[c],d===b&&(d=a.fx.speeds._default)),d===b&&(d=150),d}},l={doDrag:!0,firstClickWasOutsideHandle:!1,mouseBtnStillDown:!1,beingDraggedByKeyboard:!1,dragDelta:0,$handle:null,$animObj:null,dragging:!1,fixedHandleStartDragPos:0,textSelection:function(b){var c=b?"":"none";a("body").css({"-webkit-touch-callout":c,"-webkit-user-select":c,"-khtml-user-select":c,"-moz-user-select":c,"-ms-user-select":c,"-o-user-select":c,"user-select":c})},disableTextSelection:function(){l.textSelection(!1)},enableTextSelection:function(){l.textSelection(!0)},animDone:function(c,d){j.setValue(k.pixel2Value(c+l.dragDelta),d||l.$handle||h.$elem1st,b,!!d),l.doDrag&&a(document).bind("mousemove.rsSliderLens touchmove.rsSliderLens",j.isHoriz?l.dragHoriz:l.dragVert).bind("mouseup.rsSliderLens touchend.rsSliderLens",l.stopDragFromDoc),l.$animObj=null},anim:function(c,f,g,m,n,o,p,q){var r=o,s=function(){l.animDone(k.value2Pixel(g),r),!q||"key"===q&&!l.beingDraggedByKeyboard?i.processFinalChange(o===h.$elem1st):"key"===q&&(l.beingDraggedByKeyboard=!1),p&&p()},t=j.isHoriz?e.$wrapper.offset().left:e.$wrapper.offset().top;l.$animObj&&!o&&(l.$animObj.stop(),f=k.value2Pixel(l.$animObj[0].n)),g===b&&(g=(j.isHoriz?k.getEventPageX(c):k.getEventPageY(c))-t),f===b&&(!j.doubleHandles||g<=k.value2Pixel((j.currValue[0]+j.currValue[1])/2)?(l.$handle=h.$elem1st,f=k.value2Pixel(j.currValue[0])):(l.$handle=h.$elem2nd,f=k.value2Pixel(j.currValue[1]))),m===b&&(m=d.handle.animation),o=o||l.$handle||h.$elem1st,f=k.pixel2Value(f),g=k.pixel2Value(g),f!==g&&m>0?(l.$animObj=a({n:f}),l.$animObj.animate({n:g},{duration:m,easing:n===b?d.handle.easing:n,step:function(a){j.setValue(a,o,d.snapOnDrag)},complete:s})):s()},gotoAnim:function(a,c,d,e,f){var g=k.getSpeedMs(d),h=k.value2Pixel(a),i=k.value2Pixel(c);l.dragDelta=0,l.doDrag=!1,l.beingDraggedByKeyboard?l.anim(null,h,i,g,e,f,b,"key"):l.anim(null,h,i,g,e,f)},startDrag:function(c){if(j.canDragRange&&a(c.target).is(f.$range))return void c.preventDefault();if(d.enabled&&!l.$animObj)if(j.updateTicksStep(),l.disableTextSelection(),m.dragged=!1,l.doDrag=!0,j.isFixedHandle)l.$handle=h.$elem1st,l.fixedHandleStartDragPos=j.isHoriz?k.getEventPageX(c):k.getEventPageY(c),l.fixedHandleStartDragPos+=k.value2Pixel(j.currValue[0]),g.$elem1st.parent().add(e.$wrapper).addClass(d.style.classDragging),a(document).bind("mousemove.rsSliderLens touchmove.rsSliderLens",j.isHoriz?l.dragHoriz:l.dragVert).bind("mouseup.rsSliderLens touchend.rsSliderLens",l.stopDragFromDoc),setTimeout(function(){l.$handle.focus()});else{l.mouseBtnStillDown=l.firstClickWasOutsideHandle=!0;var i=[j.currValue[0],j.currValue[1]];l.anim(c,b,b,b,b,b,function(){l.$handle.focus(),j.uncommitedValue[0]=i[0],j.uncommitedValue[1]=i[1],l.mouseBtnStillDown||l.stopDrag(!0)},!0)}},startDragFromHandle:function(a,b){if(d.enabled){a.stopPropagation(),j.updateTicksStep(),l.disableTextSelection(),m.dragged=!1,l.$handle=b,b.add(e.$wrapper).addClass(d.style.classDragging);var c=j.isHoriz?e.$wrapper.offset().left:e.$wrapper.offset().top,f=k.value2Pixel(j.currValue[b===h.$elem1st?0:1]),g=(j.isHoriz?k.getEventPageX(a):k.getEventPageY(a))-c;l.doDrag=!0,l.dragging=!0,l.dragDelta=f-g,l.animDone(g),l.dragDelta=c-l.dragDelta}},startDragFromHandle1st:function(a){d.enabled&&!l.$animObj&&l.startDragFromHandle(a,h.$elem1st)},startDragFromHandle2nd:function(a){d.enabled&&!l.$animObj&&l.startDragFromHandle(a,h.$elem2nd)},handleStartsToMoveWhen1stClickWasOutsideHandle:function(){l.firstClickWasOutsideHandle&&(l.$handle.add(e.$wrapper).addClass(d.style.classDragging),l.firstClickWasOutsideHandle=!1,l.dragDelta=j.isHoriz?e.$wrapper.offset().left:e.$wrapper.offset().top)},dragHorizVert:function(a){l.dragging=!0,j.isFixedHandle?j.setValue(k.pixel2Value(-a+l.fixedHandleStartDragPos),l.$handle,d.snapOnDrag):(l.handleStartsToMoveWhen1stClickWasOutsideHandle(),j.setValue(k.pixel2Value(a-l.dragDelta),l.$handle,d.snapOnDrag))},dragHoriz:function(a){l.dragHorizVert(k.getEventPageX(a))},dragVert:function(a){l.dragHorizVert(k.getEventPageY(a))},stopDrag:function(b){(l.dragging||l.mouseBtnStillDown||b===!0)&&(m.dragged?(m.stopDrag(),m.dragged=!1):d.enabled&&(l.enableTextSelection(),l.doDrag=!1,l.firstClickWasOutsideHandle=!1,a(document).unbind("mousemove.rsSliderLens mouseup.rsSliderLens touchmove.rsSliderLens touchend.rsSliderLens"),j.isStepDefined&&!l.$animObj&&j.setValue(j.currValue[l.$handle===h.$elem1st?0:1],l.$handle,!0),l.dragDelta=0,(l.$handle===h.$elem1st?g.$elem1st:g.$elem2nd).parent().add(e.$wrapper).removeClass(d.style.classDragging),i.processFinalChange()),l.dragging=!1),l.mouseBtnStillDown=!1},stopDragFromDoc:function(){l.stopDrag()},gotFocus:function(){e.$wrapper.addClass(d.style.classFocused),j.isDocumentEventsBound||(a(document).bind("keydown.rsSliderLens",h.keydown).bind("keyup.rsSliderLens",h.keyup),j.isDocumentEventsBound=!0,j.uncommitedValue[0]=j.currValue[0],j.uncommitedValue[1]=j.currValue[1])},gotFocus1st:function(){l.$animObj||(l.$handle=h.$elem1st,l.gotFocus())},gotFocus2nd:function(){l.$animObj||(l.$handle=h.$elem2nd,
l.gotFocus())},loseFocus:function(){e.$wrapper.removeClass(d.style.classFocused),l.$animObj?l.$handle&&setTimeout(function(){l.$handle.focus()}):setTimeout(function(){var b=c.add(e.$canvas).add(f.$rangeWrapper).add(f.$range).add(g.$elem1st).add(g.$elem1st.parent()).add(g.$elem1st.parent().parent()).add(g.$elemRange1st).add(g.$elemRange2nd).add(h.$elem1st).add(h.$elem2nd),d=document.activeElement;j.doubleHandles&&(b=b.add(g.$elem2nd).add(g.$elem2nd.parent()).add(g.$elem2nd.parent().parent())),a(d).is(b)||(a(document).unbind("keydown.rsSliderLens",h.keydown).unbind("keyup.rsSliderLens",h.keyup),j.isDocumentEventsBound=!1)})}},m={dragDelta:0,dragged:!1,origin:0,deltaRange:0,startDrag:function(b){d.enabled&&(j.updateTicksStep(),l.disableTextSelection(),m.origin=j.isHoriz?e.$wrapper.offset().left:e.$wrapper.offset().top,j.canDragRange&&j.doubleHandles&&(d.range.type===!0||"between"===d.range.type)?m.deltaRange=j.currValue[1]-j.currValue[0]:m.deltaRange=d.range.type[1]-d.range.type[0],m.dragDelta=j.isHoriz?k.getEventPageX(b)-f.$range.offset().left:k.getEventPageY(b)-f.$range.offset().top,m.dragged=!1,a(document).bind("mousemove.rsSliderLens touchmove.rsSliderLens",m.drag).bind("mouseup.rsSliderLens touchend.rsSliderLens",m.stopDrag))},drag:function(a){var b=!m.dragged;if(m.dragged=!0,j.isRangeFromToDefined||j.canDragRange&&j.doubleHandles&&(d.range.type===!0||"between"===d.range.type)){b&&f.$rangeWrapper.add(g.$elemRange1st).add(g.$elemRange2nd).addClass(d.style.classDragging);var c,e=k.pixel2Value((j.isHoriz?k.getEventPageX(a):k.getEventPageY(a))-m.dragDelta-m.origin),i=e+m.deltaRange;e=j.getCurrValue(e),i=j.getCurrValue(i),d.flipped&&(c=e,e=i,i=c),c=i-d.max,c>0&&c<j.ticksStep&&(i=d.max,e-=c),c=d.min-e,c>0&&c<j.ticksStep&&(e=d.min,i+=c),e>=d.min&&i<=d.max&&(d.range.type===!0||"between"===d.range.type?(j.currValue[d.flipped?1:0]=j.getCurrValue(e),j.doubleHandles&&(j.currValue[d.flipped?0:1]=j.getCurrValue(i))):(d.range.type[0]=e,d.range.type[1]=i,j.currValue[0]=j.getCurrValue(Math.min(Math.max(e,j.getCurrValue(j.currValue[0])),i)),j.doubleHandles&&(j.currValue[1]=j.getCurrValue(Math.min(Math.max(e,j.getCurrValue(j.currValue[1])),i)))),j.doubleHandles&&(h.stopPosition[0]=j.currValue[0],h.stopPosition[1]=j.currValue[1]),f.$range.add(g.$elemRange1st.children()).add(g.$elemRange2nd?g.$elemRange2nd.children():null).css(f.getPropMin(),(e-d.min)/(d.max-d.min)*100+"%").css(f.getPropMax(),(d.max-i)/(d.max-d.min)*100+"%"),j.setValue(j.currValue[0],h.$elem1st,!0),j.doubleHandles&&j.setValue(j.currValue[1],h.$elem2nd,!0))}},stopDrag:function(){d.enabled&&(l.enableTextSelection(),a(document).unbind("mousemove.rsSliderLens mouseup.rsSliderLens touchmove.rsSliderLens touchend.rsSliderLens"),m.dragged&&(j.setValue(j.currValue[0],h.$elem1st,!0),j.doubleHandles&&j.setValue(j.currValue[1],h.$elem2nd,!0)),j.doubleHandles?(i.processFinalChange(!0),i.processFinalChange(!1)):i.processFinalChange(!0),f.$rangeWrapper.add(g.$elemRange1st).add(g.$elemRange2nd).removeClass(d.style.classDragging))}},n=function(a){a&&(a[0].ondragstart=a[0].onselectstart=function(){return!1})};c.bind("customRuler.rsSliderLens",i.onCustomRuler).bind("customLabel.rsSliderLens",i.onCustomLabel).bind("customLabelAttrs.rsSliderLens",i.onCustomLabelAttrs),j.initVars(),e.init(),g.init(),j.init(),f.init(),g.initRanges(),h.init(),f.appendToDOM(),h.$elem1st.add(h.$elem2nd).appendTo(e.$wrapper),c.bind("getter.rsSliderLens",i.onGetter).bind("setter.rsSliderLens",i.onSetter).bind("resizeUpdate.rsSliderLens",i.onResizeUpdate).bind("change.rsSliderLens",i.onChange).bind("finalchange.rsSliderLens",i.onFinalChange).bind("create.rsSliderLens",i.onCreate).bind("destroy.rsSliderLens",i.onDestroy),Math.abs(d.handle.mousewheel)>.5&&c.add(e.$canvas).add(f.$rangeWrapper).add(h.$elem1st).add(h.$elem2nd).bind("DOMMouseScroll.rsSliderLens mousewheel.rsSliderLens",h.onMouseWheel),j.canDragRange&&f.$range.bind("mousedown.rsSliderLens touchstart.rsSliderLens",m.startDrag),j.isFixedHandle?e.$wrapper.bind("mousedown.rsSliderLens touchstart.rsSliderLens",l.startDrag).bind("mouseup.rsSliderLens touchend.rsSliderLens",l.stopDrag):(e.$wrapper.bind("mousedown.rsSliderLens touchstart.rsSliderLens",l.startDrag).bind("mouseup.rsSliderLens touchend.rsSliderLens",l.stopDrag),h.$elem1st.bind("mousedown.rsSliderLens touchstart.rsSliderLens",l.startDragFromHandle1st)),n(c),n(g.$elem1st),n(h.$elem1st),n(e.$canvas),n(f.$rangeWrapper),n(f.$range),n(g.$elemRange1st),j.doubleHandles&&(n(g.$elem2nd),n(h.$elem2nd),n(g.$elemRange2nd),h.$elem2nd.bind("mousedown.rsSliderLens touchstart.rsSliderLens",l.startDragFromHandle2nd)),d.enabled&&j.isAutoFocusable&&h.$elem1st.focus(),c.triggerHandler("create.rsSliderLens"),j.initHandles()};a.fn.rsSliderLens=function(d){var e=function(){if("string"==typeof arguments[0])switch(arguments.length){case 1:return this.eq(0).triggerHandler("getter.rsSliderLens",arguments);case 2:for(var a=this.length-1;a>-1;--a)this.eq(a).triggerHandler("setter.rsSliderLens",arguments);return this}},f=function(){return this.trigger("resizeUpdate.rsSliderLens")},g=function(){return this.trigger("destroy.rsSliderLens")};if("string"==typeof d){var h=Array.prototype.slice.call(arguments,1);switch(d){case"option":return e.apply(this,h);case"resizeUpdate":return f.call(this);case"destroy":return g.call(this);default:return this}}var i=a.extend({},a.fn.rsSliderLens.defaults,d);return i.handle=a.extend({},a.fn.rsSliderLens.defaults.handle,d?d.handle:d),i.style=a.extend({},a.fn.rsSliderLens.defaults.style,d?d.style:d),i.ruler=a.extend({},a.fn.rsSliderLens.defaults.ruler,d?d.ruler:d),i.ruler.labels=a.extend({},a.fn.rsSliderLens.defaults.ruler.labels,d?d.ruler?d.ruler.labels:d.ruler:d),i.ruler.tickMarks=a.extend({},a.fn.rsSliderLens.defaults.ruler.tickMarks,d?d.ruler?d.ruler.tickMarks:d.ruler:d),i.ruler.tickMarks["short"]=a.extend({},a.fn.rsSliderLens.defaults.ruler.tickMarks["short"],d?d.ruler?d.ruler.tickMarks?d.ruler.tickMarks["short"]:d.ruler.tickMarks:d.ruler:d),i.ruler.tickMarks["long"]=a.extend({},a.fn.rsSliderLens.defaults.ruler.tickMarks["long"],d?d.ruler?d.ruler.tickMarks?d.ruler.tickMarks["long"]:d.ruler.tickMarks:d.ruler:d),i.range=a.extend({},a.fn.rsSliderLens.defaults.range,d?d.range:d),i.keyboard=a.extend({},a.fn.rsSliderLens.defaults.keyboard,d?d.keyboard:d),this.each(function(){var d=a(this),e=a.extend(!0,{},i),f=function(a){var b=a&&"auto"!==a&&""!==a?parseFloat(a):0;return isNaN(b)?0:b};if(d.is("input[type=range]")){var g=d.val(),h=i.value&&"object"==typeof i.value&&2===i.value.length;g===b||h||(e=a.extend({},e,{value:f(g)})),g=d.attr("min"),g!==b&&(e=a.extend({},e,{min:f(g)})),g=d.attr("max"),g!==b&&(e=a.extend({},e,{max:f(g)})),g=d.attr("step"),g!==b&&(e=a.extend({},e,{step:f(g)})),g=d.attr("disabled"),g!==b&&(e=a.extend({},e,{enabled:!1}))}0===d.contents().length&&(e.ruler.visible=!0),new c(d,e)})},a.fn.rsSliderLens.defaults={orientation:"auto",width:"auto",height:"auto",fixedHandle:!1,value:0,min:0,max:100,step:0,snapOnDrag:!1,enabled:!0,flipped:!1,contentOffset:.5,paddingStart:0,paddingEnd:0,style:{classSlider:"sliderlens",classFixed:"fixed",classHoriz:"horiz",classVert:"vert",classDisabled:"disabled",classHandle:"handle",classHandle1:"handle1",classHandle2:"handle2",classDragging:"dragging",classRange:"range",classRangeDraggable:"drag",classFocused:"focus"},handle:{size:.3,zoom:1.5,pos:.5,otherSize:"zoom",animation:100,easing:"swing",mousewheel:1},ruler:{visible:!0,size:1.5,labels:{visible:!0,values:"step",pos:.8,onCustomLabel:null,onCustomAttrs:null},tickMarks:{"short":{visible:!0,step:2,pos:.2,size:.1},"long":{visible:!0,step:10,pos:.15,size:.15}},onCustom:null},range:{type:"hidden",draggable:!1,pos:.46,size:.1},keyboard:{allowed:["left","right","up","down","home","end","pgup","pgdown","esc"],easing:"swing",numPages:5},onChange:null,onFinalChange:null,onCreate:null}}(jQuery);